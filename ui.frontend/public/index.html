<!-- This file is only used during development -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="theme-color" content="#000000" />
        <meta name="description" content="LHG LMS" />
        <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
        <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
        <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
        <title>LHG LMS</title>

        <!-- AEM page model -->
        <script>
            let pageModelPath = location.pathname.split('/');
            let pageName = pageModelPath[pageModelPath.length - 1];
            pageName = pageName.substr(0, pageName.lastIndexOf(".")) + ".model.json";
            pageModelPath[pageModelPath.length - 1] = pageName;
            pageModelPath = pageModelPath.join('/');
            let meta = document.createElement('meta');
            meta.setAttribute('property', 'cq:pagemodel_root_url');
            meta.setAttribute('content', pageModelPath);
            document.getElementsByTagName('head')[0].appendChild(meta);
        </script>

        <!-- AEM Base ClientLib -->
        <link rel="stylesheet" href="/etc.clientlibs/lhg-lms/clientlibs/clientlib-base.css" type="text/css" />

        <!-- In development mode, redirect from "/" to app root -->
        <script>
            if ('%NODE_ENV%' === 'development' && location.pathname === '/' && '%REACT_APP_ROOT%') {
                location.href = '%REACT_APP_ROOT%';
            }
        </script>
    </head>
    <body class="page basicpage">
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="spa-root"></div>
    </body>
</html>
